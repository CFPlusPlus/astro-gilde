---
export interface Props {
  /** JSON-LD Objekt oder Array aus JSON-LD Objekten */
  data: unknown;
}

const { data } = Astro.props as Props;

// Schutz vor versehentlichen </script>-Breaks (sehr defensiv).
// Hinweis: JSON.stringify(undefined) gibt undefined zurueck, daher zwingen wir auf null.
const json = JSON.stringify(data ?? null).replace(/</g, '\\u003c');
---

<!--
  WICHTIG: `set:html` nutzen, damit das JSON als roher Text injiziert wird.
  Das verhindert Faelle, in denen Templating/Escaping zu ungueltigem JSON-LD fuehrt.
  Astro-Doku: https://docs.astro.build/en/reference/directives-reference/#sethtml
-->
<script type="application/ld+json" set:html={json} is:inline />
