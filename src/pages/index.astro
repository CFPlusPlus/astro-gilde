---
import BaseLayout from '../layouts/BaseLayout.astro';
import HomePage from '../components/home/HomePage.astro';
import HomeInlineScripts from '../components/home/HomeInlineScripts.astro';

import { HOME_ANCHORS } from '../lib/home/anchors';
import { getHomeGallery } from '../lib/home/gallery';
import { minecraftGilde } from '../config/minecraftGilde';

// Home-spezifische Styles (scoped über [data-home])
import '../styles/home.css';

// Build-Time: Galerie-URLs einsammeln (wird im Build aufgerufen).
const { urls: galleryUrls, initial: galleryInitial } = getHomeGallery();
// Version/IP zentral aus der Konfiguration holen, damit SEO-Texte konsistent bleiben.
const MC_VERSION = minecraftGilde.mcVersion;
const SERVER_IP = minecraftGilde.serverIp;
---

<BaseLayout
  title={`Minecraft Gilde – Deutscher Vanilla SMP Server (Java ${MC_VERSION})`}
  description={`Die Minecraft Gilde ist ein deutscher Vanilla SMP (Java ${MC_VERSION}) mit Langzeitwelt ohne Resets, fair ohne Pay-to-Win und Vanilla+ Komfort. IP: ${SERVER_IP}`}
  keywords={`Minecraft Vanilla SMP Server, Minecraft Server deutsch, Vanilla Survival, Freebuild, Langzeitwelt, kein Pay2Win, Java ${MC_VERSION}, ${SERVER_IP}`}
  bodyClass="is-home"
>
  <HomePage anchorItems={HOME_ANCHORS} galleryUrls={galleryUrls} galleryInitial={galleryInitial} />

  <HomeInlineScripts slot="afterScripts" />
</BaseLayout>
